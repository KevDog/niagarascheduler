<html>
    <head>
        <title>Syllabus Preview - Niagara University</title>
        <link href="http://d2v52k3cl9vedd.cloudfront.net/basscss/7.0.4/basscss.min.css" rel="stylesheet">
        <style>
            .syllabus-preview {
                background-color: #f8f9fa;
                border: 1px solid #e9ecef;
                border-radius: 4px;
                padding: 2rem;
                margin-bottom: 2rem;
                font-family: Georgia, serif;
                line-height: 1.6;
            }
            .syllabus-preview h1, .syllabus-preview h2, .syllabus-preview h3 {
                color: #2c3e50;
                margin-top: 1.5rem;
                margin-bottom: 0.75rem;
            }
            .syllabus-preview h1 {
                border-bottom: 2px solid #3498db;
                padding-bottom: 0.5rem;
            }
            .syllabus-preview table {
                border-collapse: collapse;
                margin: 1rem 0;
            }
            .syllabus-preview th, .syllabus-preview td {
                border: 1px solid #ddd;
                padding: 0.5rem;
                text-align: left;
            }
            .syllabus-preview th {
                background-color: #f2f2f2;
                font-weight: bold;
            }
            .export-section {
                background-color: #fff;
                border: 1px solid #ddd;
                border-radius: 4px;
                padding: 1.5rem;
                margin-bottom: 2rem;
            }
            .preview-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 1rem;
                padding-bottom: 1rem;
                border-bottom: 1px solid #eee;
            }
            .btn-back {
                background-color: #6c757d;
                color: white;
                padding: 0.5rem 1rem;
                text-decoration: none;
                border-radius: 3px;
                font-size: 0.9rem;
            }
            .btn-back:hover {
                background-color: #5a6268;
                text-decoration: none;
                color: white;
            }
        </style>
    </head>
    <body>
        <div class="container px2 sm-px3" style="max-width:60em;">
            <main>
                <div class="preview-header">
                    <h1 class="m0">Syllabus Preview</h1>
                    <a href="/" class="btn-back">‚Üê Back to Form</a>
                </div>

                <div class="export-section">
                    <h2 class="mt0">Export Options</h2>
                    <p>Review your syllabus below, then choose a format to download:</p>
                    
                    <form method="post" action="/export/" style="display: inline-block;">
                        <!-- Hidden fields to preserve form data -->
                        <input type="hidden" name="schedule_data" value="{{ form_data.schedule_data | join(',') }}">
                        <input type="hidden" name="semester" value="{{ form_data.semester }}">
                        <input type="hidden" name="year" value="{{ form_data.year }}">
                        <input type="hidden" name="course_id" value="{{ form_data.course_id }}">
                        <input type="hidden" name="include_description" value="{{ form_data.include_description }}">
                        <input type="hidden" name="date_fmt" value="{{ form_data.date_fmt }}">
                        
                        <select name="export_format" class="field mr1">
                            <option value="docx">Word Document (.docx)</option>
                            <option value="html">HTML Document (.html)</option>
                            <option value="tex">LaTeX Document (.tex)</option>
                            <option value="md">Markdown (.md)</option>
                        </select>
                        
                        <button type="submit" class="btn btn-primary">Download</button>
                    </form>
                </div>

                <div class="syllabus-preview">
                    <!-- Render HTML content generated from markdown in Python -->
                    {{ syllabus_html | safe }}
                </div>
        </div>
    </body>
</html>